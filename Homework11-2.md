<h1>Домашнее задание к занятию «Микросервисы: принципы»</h1>

____

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры. Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

<h3>Задача 1: API Gateway</h3>

____
Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:

 - маршрутизация запросов к нужному сервису на основе конфигурации,
 - возможность проверки аутентификационной информации в запросах,
 - обеспечение терминации HTTPS.

Обоснуйте свой выбор.

<h3>Задача 2: Брокер сообщений</h3>

____


Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:

 - поддержка кластеризации для обеспечения надёжности,
 - хранение сообщений на диске в процессе доставки,
 - высокая скорость работы,
 - поддержка различных форматов сообщений,
 - разделение прав доступа к различным потокам сообщений,
 - простота эксплуатации.

Обоснуйте свой выбор.

____

<h3>Решение</h3>

____

<h3>Задача 1: API Gateway</h3>


| Характеристики/API Gateway |	Kong	| Apigee	| Amazon API Gateway	| Azure API Management |NGINX |	Tyk |
:---------|--------|----------|---------|-------| -------|----------|
|Маршрутизация |	Поддерживает маршрутизацию на основе конфигурации и расширенные возможности управления маршрутизацией. |	Мощные возможности маршрутизации с управлением трафиком и правилами маршрутизации.	| Гибкая настройка маршрутизации с возможностью управления маршрутами через консоль AWS.	| Поддерживает гибкую маршрутизацию и правила переадресации на основе конфигурации.  | Поддерживает гибкую маршрутизацию и возможности управления трафиком с использованием NGINX конфигурации.	| Обеспечивает мощные возможности маршрутизации с использованием конфигурационных файлов и панели управления. |
|Проверка аутентификации	| Поддерживает различные методы аутентификации, включая ключи API и токены доступа. |	Обеспечивает широкий набор инструментов для проверки подлинности, включая OAuth и другие стандартные протоколы. |	Поддерживает многочисленные методы аутентификации, включая IAM и пользовательские токены.	| Предоставляет возможности проверки подлинности через политики безопасности и интеграцию с Azure Active Directory. |  Поддерживает различные методы аутентификации, включая базовую аутентификацию и использование сторонних модулей.	| Обеспечивает широкий спектр методов аутентификации, включая OAuth, JWT и множество других стандартных протоколов. |
|Терминация HTTPS |	Поддерживает терминацию HTTPS и обеспечивает защищенное соединение между клиентом и бэкенд-сервисом. |	Обеспечивает терминацию HTTPS и предоставляет возможности управления сертификатами и шифрованием. |	Полностью поддерживает терминацию HTTPS и предоставляет возможности управления сертификатами через AWS Certificate Manager.	| Обеспечивает терминацию HTTPS и предоставляет возможности управления сертификатами и шифрованием через Azure Key Vault.  | Полностью поддерживает терминацию HTTPS и предоставляет возможности управления сертификатами через конфигурационные файлы NGINX. |	Обеспечивает терминацию HTTPS с помощью настраиваемых сертификатов и предоставляет гибкие инструменты управления шифрованием. |

Исходя из этой таблицы, наилучшим решением для организации API Gateway с учетом требований маршрутизации, проверки аутентификации и обеспечения терминации HTTPS является Kong. Kong предлагает широкий набор функций маршрутизации, поддерживает различные методы аутентификации и обеспечивает терминацию HTTPS, что делает его универсальным и надежным выбором для организации API Gateway. Кроме того, Kong является открытым и гибким решением, которое обеспечивает возможности расширения и настройки под конкретные потребности компании.
Однако, если организация уже использует NGINX в качестве веб-сервера, интеграция NGINX в качестве API Gateway может быть хорошим выбором, так как это позволит использовать уже существующие навыки и инфраструктуру. NGINX также известен своей высокой производительностью и надежностью. 

____

<h3>Задача 2: Брокер сообщений</h3>



| Характеристики/Брокеры сообщений	 | Apache Kafka |	RabbitMQ |	Apache Pulsar |	ActiveMQ |
|--------|---------|----------|----------|-------|
|Поддержка кластеризации	| Полноценная поддержка кластеризации с автоматическим балансированием нагрузки и отказоустойчивостью.|	Поддержка кластеризации с механизмами репликации и высокой доступностью.	|Встроенная поддержка кластеризации с гарантией горизонтального масштабирования и отказоустойчивости.	|Поддержка кластеризации с функциями масштабирования и обеспечением отказоустойчивости. |
|Хранение сообщений на диске |	Хранение сообщений на диске в процессе доставки с высокой производительностью и надежностью.	|Хранение сообщений на диске с высокой скоростью доставки и гарантией сохранности данных.|	Возможность хранения сообщений на диске для обеспечения устойчивости и сохранности данных.	|Поддержка хранения сообщений на диске с высокой производительностью и гарантированной доставкой.|
|Высокая скорость работы |	Высокая скорость работы с низкой задержкой и высокой пропускной способностью.	|Обеспечивает высокую скорость работы с низкой латентностью и высокой производительностью.	| Обладает высокой скоростью работы с гарантированной доставкой и низкой задержкой.	|Предоставляет высокую скорость работы с надежной доставкой сообщений и низкой латентностью.|
|Поддержка различных форматов сообщений	| Поддержка различных форматов сообщений и гибкая обработка структурированных данных.|	Обеспечивает поддержку различных форматов сообщений и гибкую обработку данных с помощью различных протоколов.|	Поддерживает разнообразные форматы сообщений с возможностью работы с различными протоколами и структурами данных.|	Поддерживает разнообразные форматы сообщений и обеспечивает гибкую обработку данных.|
|Разделение прав доступа	| Обеспечивает механизмы контроля доступа и разделение прав на основе ролей и политик безопасности.|	Предоставляет гибкие механизмы контроля доступа и возможности настройки прав доступа к различным очередям.|	Обладает механизмами управления доступом и возможностью разделения прав для различных потоков сообщений.|	Предоставляет гибкие инструменты управления доступом и разделения прав для различных пользователей и очередей.|
|Простота эксплуатации	| Обладает относительно высоким уровнем сложности в установке и настройке, требует хорошего понимания концепций Kafka.|	Предоставляет относительно простой процесс установки и конфигурирования с удобным пользовательским интерфейсом. |	Обеспечивает удобную установку и настройку с относительно простым процессом эксплуатации и управления.|	Предоставляет простой процесс установки и настройки с интуитивно понятным интерфейсом и удобным управлением.|


Среди перечисленных брокеров сообщений, Apache ActiveMQ обеспечивает простую конфигурацию и установку, при этом соответствуя большинству требований. Он предоставляет удобный интерфейс управления, поддерживает различные форматы сообщений, обеспечивает гибкость при разделении прав доступа, а также гарантирует хранение сообщений на диске для обеспечения надежности.